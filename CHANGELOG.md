# Changelog

## [v0.3.0] - 2026-02-13

### Added
- 財務報表（試算表、資產負債表、損益表）
- 內部轉帳配對功能（自動偵測、匯費容差 100 元、日期容差 ±3 天）
- 批次管理（查看上傳批次、刪除整批交易）
- 歷史資料批次遷移功能

### Fixed
- **重大修復：entries API 超時問題**
  - N+1 query 導致 101 筆分錄 = 102 次查詢 → 超時
  - 改用 2 次高效查詢 + LIMIT 100
  - 載入時間從超時（>10s）降至 ~1s
- 前端資料消失問題（因 API 超時導致）

### Changed
- 日記帳預設只顯示最近 100 筆（可分頁）

---

## [v0.2.0] - 2026-02-13

### Added
- 上傳對帳單功能（xlsx 解析 + 預覽確認流程）
- 自動偵測欄位（公司、日期、摘要、金額、借方科目、貸方科目、標籤）
- 自動建立分錄（如果借貸方科目都有匹配）
- 清除待處理交易功能

### Changed
- 上傳流程改為三步驟（選檔案 → 預覽確認 → 匯入）

---

## [v0.1.0] - 2026-02-13

### Added
- 基礎架構（Vercel + Turso SQLite）
- 科目管理（445 筆台灣 IFRS 會計科目）
- 日記帳（新增/編輯/刪除分錄）
- 手動新增銀行交易
- 初始化 API

---

## 版本號規則

- `vX.Y.Z`
  - X: 重大功能變更
  - Y: 新增功能
  - Z: Bug 修復

## 如何回到特定版本

```bash
# 查看所有版本
git tag

# 回到特定版本
git checkout v0.2.0

# 回到最新版本
git checkout main
```
